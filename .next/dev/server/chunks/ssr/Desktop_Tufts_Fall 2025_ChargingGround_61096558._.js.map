{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/brendan.roy/Desktop/Tufts/Fall%202025/ChargingGround/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n);\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,2PAAY","debugId":null}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/brendan.roy/Desktop/Tufts/Fall%202025/ChargingGround/app/admin/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\n\nexport default function AdminPage() {\n  const [orders, setOrders] = useState(null);\n\n  useEffect(() => {\n    async function loadOrders() {\n      const { data, error } = await supabase\n        .from(\"orders\")\n        .select(\"*\")\n        .order(\"created_at\", { ascending: false });\n\n      if (!error) setOrders(data);\n    }\n\n    loadOrders();\n\n    // Auto-refresh every 5 seconds\n    const interval = setInterval(loadOrders, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  if (!orders) {\n    return (\n      <div className=\"container-page py-10\">\n        <h1 className=\"text-3xl font-bold\">Loading orders…</h1>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container-page py-10\">\n      <h1 className=\"text-3xl font-bold mb-6\">All Orders</h1>\n\n      <div className=\"space-y-6\">\n        {orders.map((order) => (\n          <div\n            key={order.id}\n            className=\"border rounded-xl p-5 bg-white shadow-soft\"\n          >\n            {/* Order Header */}\n            <div className=\"flex justify-between items-center\">\n              <h2 className=\"text-xl font-semibold\">Order #{order.id}</h2>\n              <span className=\"text-sm bg-neutral-200 px-3 py-1 rounded-full capitalize\">\n                {order.status}\n              </span>\n            </div>\n\n            <p className=\"text-neutral-700 mt-1\">\n              <strong>Name:</strong> {order.name}\n            </p>\n            <p className=\"text-neutral-700\">\n              <strong>Email:</strong> {order.email}\n            </p>\n            <p className=\"text-neutral-700 mb-3\">\n              <strong>Placed:</strong>{\" \"}\n              {new Date(order.created_at).toLocaleString()}\n            </p>\n\n            {/* Items */}\n            <h3 className=\"font-semibold\">Items:</h3>\n            <ul className=\"ml-5 list-disc mt-2 space-y-1\">\n              {order.items.map((entry, idx) => (\n                <li key={idx}>\n                  {entry.item.name} × {entry.qty} — $\n                  {(entry.item.price * entry.qty).toFixed(2)}\n                </li>\n              ))}\n            </ul>\n\n            {/* Total */}\n            <div className=\"mt-4 font-bold\">\n              Total: $\n              {order.items\n                .reduce(\n                  (sum, entry) => sum + entry.item.price * entry.qty,\n                  0\n                )\n                .toFixed(2)}\n            </div>\n\n            {/* Status Selector */}\n            <div className=\"mt-6\">\n              <label className=\"block text-sm font-medium mb-1\">\n                Update Status:\n              </label>\n\n              <select\n                className=\"border p-2 rounded\"\n                value={order.status}\n                onChange={async (e) => {\n                  const newStatus = e.target.value;\n\n                  // Update in DB\n                  const { error } = await supabase\n                    .from(\"orders\")\n                    .update({ status: newStatus })\n                    .eq(\"id\", order.id);\n\n                  if (!error) {\n                    // Update UI locally\n                    setOrders((prev) =>\n                      prev.map((o) =>\n                        o.id === order.id ? { ...o, status: newStatus } : o\n                      )\n                    );\n                  }\n                }}\n              >\n                <option value=\"pending\">Received</option>\n                <option value=\"preparing\">Preparing</option>\n                <option value=\"ready\">Ready for Pickup</option>\n              </select>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,qQAAQ,EAAC;IAErC,IAAA,sQAAS,EAAC;QACR,eAAe;YACb,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,+KAAQ,CACnC,IAAI,CAAC,UACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,IAAI,CAAC,OAAO,UAAU;QACxB;QAEA;QAEA,+BAA+B;QAC/B,MAAM,WAAW,YAAY,YAAY;QACzC,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,IAAI,CAAC,QAAQ;QACX,qBACE,kSAAC;YAAI,WAAU;sBACb,cAAA,kSAAC;gBAAG,WAAU;0BAAqB;;;;;;;;;;;IAGzC;IAEA,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,kSAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,sBACX,kSAAC;wBAEC,WAAU;;0CAGV,kSAAC;gCAAI,WAAU;;kDACb,kSAAC;wCAAG,WAAU;;4CAAwB;4CAAQ,MAAM,EAAE;;;;;;;kDACtD,kSAAC;wCAAK,WAAU;kDACb,MAAM,MAAM;;;;;;;;;;;;0CAIjB,kSAAC;gCAAE,WAAU;;kDACX,kSAAC;kDAAO;;;;;;oCAAc;oCAAE,MAAM,IAAI;;;;;;;0CAEpC,kSAAC;gCAAE,WAAU;;kDACX,kSAAC;kDAAO;;;;;;oCAAe;oCAAE,MAAM,KAAK;;;;;;;0CAEtC,kSAAC;gCAAE,WAAU;;kDACX,kSAAC;kDAAO;;;;;;oCAAiB;oCACxB,IAAI,KAAK,MAAM,UAAU,EAAE,cAAc;;;;;;;0CAI5C,kSAAC;gCAAG,WAAU;0CAAgB;;;;;;0CAC9B,kSAAC;gCAAG,WAAU;0CACX,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,oBACvB,kSAAC;;4CACE,MAAM,IAAI,CAAC,IAAI;4CAAC;4CAAI,MAAM,GAAG;4CAAC;4CAC9B,CAAC,MAAM,IAAI,CAAC,KAAK,GAAG,MAAM,GAAG,EAAE,OAAO,CAAC;;uCAFjC;;;;;;;;;;0CAQb,kSAAC;gCAAI,WAAU;;oCAAiB;oCAE7B,MAAM,KAAK,CACT,MAAM,CACL,CAAC,KAAK,QAAU,MAAM,MAAM,IAAI,CAAC,KAAK,GAAG,MAAM,GAAG,EAClD,GAED,OAAO,CAAC;;;;;;;0CAIb,kSAAC;gCAAI,WAAU;;kDACb,kSAAC;wCAAM,WAAU;kDAAiC;;;;;;kDAIlD,kSAAC;wCACC,WAAU;wCACV,OAAO,MAAM,MAAM;wCACnB,UAAU,OAAO;4CACf,MAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAEhC,eAAe;4CACf,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,+KAAQ,CAC7B,IAAI,CAAC,UACL,MAAM,CAAC;gDAAE,QAAQ;4CAAU,GAC3B,EAAE,CAAC,MAAM,MAAM,EAAE;4CAEpB,IAAI,CAAC,OAAO;gDACV,oBAAoB;gDACpB,UAAU,CAAC,OACT,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,EAAE,KAAK,MAAM,EAAE,GAAG;4DAAE,GAAG,CAAC;4DAAE,QAAQ;wDAAU,IAAI;4CAGxD;wCACF;;0DAEA,kSAAC;gDAAO,OAAM;0DAAU;;;;;;0DACxB,kSAAC;gDAAO,OAAM;0DAAY;;;;;;0DAC1B,kSAAC;gDAAO,OAAM;0DAAQ;;;;;;;;;;;;;;;;;;;uBA1ErB,MAAM,EAAE;;;;;;;;;;;;;;;;AAkFzB","debugId":null}}]
}